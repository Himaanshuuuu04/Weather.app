{"ast":null,"code":"var _jsxFileName = \"E:\\\\WEBD\\\\Projects\\\\weather.io\\\\src\\\\components\\\\Context\\\\UserContextProvider.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport UserContext from \"./UserContext\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst UserContextProvider = _ref => {\n  _s();\n  let {\n    children\n  } = _ref;\n  const [input, setInput] = useState(\"\");\n  const [location, setLocation] = useState(\"New Delhi\");\n  const [city, setCity] = useState(\"New Delhi\");\n  const [latitudes, setLatitudes] = useState([]);\n  const [error, setError] = useState(null);\n  const [weatherData, setWeatherData] = useState(null);\n  useEffect(() => {\n    if (location) {\n      fetch(`https://geocode.maps.co/search?q=${location}&api_key=${process.env.REACT_APP_API_KEY}`).then(res => {\n        if (!res.ok) {\n          throw new Error(`HTTP error! status: ${res.status}`);\n        }\n        return res.json();\n      }).then(data => {\n        const extractedData = data.map(location => ({\n          latitude: parseFloat(location.lat),\n          longitude: parseFloat(location.lon),\n          display_name: location.display_name\n        }));\n        setLatitudes(extractedData);\n      }).catch(error => {\n        console.error(\"There was a problem with the fetch operation:\", error.message);\n        setError(error.message);\n      });\n    }\n  }, [location]);\n  useEffect(() => {\n    if (latitudes.length > 0) {\n      fetch(`https://api.open-meteo.com/v1/forecast?latitude=${latitudes[0].latitude}&longitude=${latitudes[0].longitude}&current=temperature_2m,weather_code&hourly=temperature_2m,weather_code&daily=weather_code,temperature_2m_max,temperature_2m_min,uv_index_max&timezone=auto`).then(response => {\n        if (!response.ok) {\n          throw new Error(`HTTP error! status: ${response.status}`);\n        }\n        return response.json();\n      }).then(data => {\n        setWeatherData(data);\n      }).catch(error => {\n        setError(error.message);\n      });\n    }\n  }, [latitudes]);\n  console.log(error);\n  return /*#__PURE__*/_jsxDEV(UserContext.Provider, {\n    value: {\n      city,\n      setCity,\n      input,\n      setInput,\n      location,\n      setLocation,\n      latitudes,\n      weatherData,\n      error\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 64,\n    columnNumber: 5\n  }, this);\n};\n_s(UserContextProvider, \"5oZb4PrZogQi0e5WLPmxfd3z/eQ=\");\n_c = UserContextProvider;\nexport default UserContextProvider;\nvar _c;\n$RefreshReg$(_c, \"UserContextProvider\");","map":{"version":3,"names":["React","useState","useEffect","UserContext","jsxDEV","_jsxDEV","UserContextProvider","_ref","_s","children","input","setInput","location","setLocation","city","setCity","latitudes","setLatitudes","error","setError","weatherData","setWeatherData","fetch","process","env","REACT_APP_API_KEY","then","res","ok","Error","status","json","data","extractedData","map","latitude","parseFloat","lat","longitude","lon","display_name","catch","console","message","length","response","log","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["E:/WEBD/Projects/weather.io/src/components/Context/UserContextProvider.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\n\r\nimport UserContext from \"./UserContext\";\r\n\r\nconst UserContextProvider = ({ children }) => {\r\n  const [input, setInput] = useState(\"\");\r\n  const [location, setLocation] = useState(\"New Delhi\");\r\n  const [city, setCity] = useState(\"New Delhi\");\r\n  const [latitudes, setLatitudes] = useState([]);\r\n  const [error, setError] = useState(null);\r\n  const [weatherData, setWeatherData] = useState(null);\r\n\r\n  useEffect(() => {\r\n    if (location) {\r\n      fetch(\r\n        `https://geocode.maps.co/search?q=${location}&api_key=${process.env.REACT_APP_API_KEY}`\r\n      )\r\n        .then((res) => {\r\n          if (!res.ok) {\r\n            throw new Error(`HTTP error! status: ${res.status}`);\r\n          }\r\n          return res.json();\r\n        })\r\n        .then((data) => {\r\n          const extractedData = data.map((location) => ({\r\n            latitude: parseFloat(location.lat),\r\n            longitude: parseFloat(location.lon),\r\n            display_name: location.display_name,\r\n          }));\r\n          setLatitudes(extractedData);\r\n        })\r\n        .catch((error) => {\r\n          console.error(\r\n            \"There was a problem with the fetch operation:\",\r\n            error.message\r\n          );\r\n          setError(error.message);\r\n        });\r\n    }\r\n  }, [location]);\r\n\r\n  useEffect(() => {\r\n    if (latitudes.length > 0) {\r\n      fetch(\r\n        `https://api.open-meteo.com/v1/forecast?latitude=${latitudes[0].latitude}&longitude=${latitudes[0].longitude}&current=temperature_2m,weather_code&hourly=temperature_2m,weather_code&daily=weather_code,temperature_2m_max,temperature_2m_min,uv_index_max&timezone=auto`\r\n      )\r\n        .then((response) => {\r\n          if (!response.ok) {\r\n            throw new Error(`HTTP error! status: ${response.status}`);\r\n          }\r\n          return response.json();\r\n        })\r\n        .then((data) => {\r\n          setWeatherData(data);\r\n        })\r\n        .catch((error) => {\r\n          setError(error.message);\r\n        });\r\n    }\r\n  }, [latitudes]);\r\n  console.log(error);\r\n\r\n  return (\r\n    <UserContext.Provider\r\n      value={{\r\n        city,\r\n        setCity,\r\n        input,\r\n        setInput,\r\n        location,\r\n        setLocation,\r\n        latitudes,\r\n        weatherData,\r\n        error,\r\n      }}\r\n    >\r\n      {children}\r\n    </UserContext.Provider>\r\n  );\r\n};\r\n\r\nexport default UserContextProvider;\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAElD,OAAOC,WAAW,MAAM,eAAe;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAExC,MAAMC,mBAAmB,GAAGC,IAAA,IAAkB;EAAAC,EAAA;EAAA,IAAjB;IAAEC;EAAS,CAAC,GAAAF,IAAA;EACvC,MAAM,CAACG,KAAK,EAAEC,QAAQ,CAAC,GAAGV,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAM,CAACW,QAAQ,EAAEC,WAAW,CAAC,GAAGZ,QAAQ,CAAC,WAAW,CAAC;EACrD,MAAM,CAACa,IAAI,EAAEC,OAAO,CAAC,GAAGd,QAAQ,CAAC,WAAW,CAAC;EAC7C,MAAM,CAACe,SAAS,EAAEC,YAAY,CAAC,GAAGhB,QAAQ,CAAC,EAAE,CAAC;EAC9C,MAAM,CAACiB,KAAK,EAAEC,QAAQ,CAAC,GAAGlB,QAAQ,CAAC,IAAI,CAAC;EACxC,MAAM,CAACmB,WAAW,EAAEC,cAAc,CAAC,GAAGpB,QAAQ,CAAC,IAAI,CAAC;EAEpDC,SAAS,CAAC,MAAM;IACd,IAAIU,QAAQ,EAAE;MACZU,KAAK,CACH,oCAAoCV,QAAQ,YAAYW,OAAO,CAACC,GAAG,CAACC,iBAAiB,EACvF,CAAC,CACEC,IAAI,CAAEC,GAAG,IAAK;QACb,IAAI,CAACA,GAAG,CAACC,EAAE,EAAE;UACX,MAAM,IAAIC,KAAK,CAAC,uBAAuBF,GAAG,CAACG,MAAM,EAAE,CAAC;QACtD;QACA,OAAOH,GAAG,CAACI,IAAI,CAAC,CAAC;MACnB,CAAC,CAAC,CACDL,IAAI,CAAEM,IAAI,IAAK;QACd,MAAMC,aAAa,GAAGD,IAAI,CAACE,GAAG,CAAEtB,QAAQ,KAAM;UAC5CuB,QAAQ,EAAEC,UAAU,CAACxB,QAAQ,CAACyB,GAAG,CAAC;UAClCC,SAAS,EAAEF,UAAU,CAACxB,QAAQ,CAAC2B,GAAG,CAAC;UACnCC,YAAY,EAAE5B,QAAQ,CAAC4B;QACzB,CAAC,CAAC,CAAC;QACHvB,YAAY,CAACgB,aAAa,CAAC;MAC7B,CAAC,CAAC,CACDQ,KAAK,CAAEvB,KAAK,IAAK;QAChBwB,OAAO,CAACxB,KAAK,CACX,+CAA+C,EAC/CA,KAAK,CAACyB,OACR,CAAC;QACDxB,QAAQ,CAACD,KAAK,CAACyB,OAAO,CAAC;MACzB,CAAC,CAAC;IACN;EACF,CAAC,EAAE,CAAC/B,QAAQ,CAAC,CAAC;EAEdV,SAAS,CAAC,MAAM;IACd,IAAIc,SAAS,CAAC4B,MAAM,GAAG,CAAC,EAAE;MACxBtB,KAAK,CACH,mDAAmDN,SAAS,CAAC,CAAC,CAAC,CAACmB,QAAQ,cAAcnB,SAAS,CAAC,CAAC,CAAC,CAACsB,SAAS,6JAC9G,CAAC,CACEZ,IAAI,CAAEmB,QAAQ,IAAK;QAClB,IAAI,CAACA,QAAQ,CAACjB,EAAE,EAAE;UAChB,MAAM,IAAIC,KAAK,CAAC,uBAAuBgB,QAAQ,CAACf,MAAM,EAAE,CAAC;QAC3D;QACA,OAAOe,QAAQ,CAACd,IAAI,CAAC,CAAC;MACxB,CAAC,CAAC,CACDL,IAAI,CAAEM,IAAI,IAAK;QACdX,cAAc,CAACW,IAAI,CAAC;MACtB,CAAC,CAAC,CACDS,KAAK,CAAEvB,KAAK,IAAK;QAChBC,QAAQ,CAACD,KAAK,CAACyB,OAAO,CAAC;MACzB,CAAC,CAAC;IACN;EACF,CAAC,EAAE,CAAC3B,SAAS,CAAC,CAAC;EACf0B,OAAO,CAACI,GAAG,CAAC5B,KAAK,CAAC;EAElB,oBACEb,OAAA,CAACF,WAAW,CAAC4C,QAAQ;IACnBC,KAAK,EAAE;MACLlC,IAAI;MACJC,OAAO;MACPL,KAAK;MACLC,QAAQ;MACRC,QAAQ;MACRC,WAAW;MACXG,SAAS;MACTI,WAAW;MACXF;IACF,CAAE;IAAAT,QAAA,EAEDA;EAAQ;IAAAwC,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACW,CAAC;AAE3B,CAAC;AAAC5C,EAAA,CA3EIF,mBAAmB;AAAA+C,EAAA,GAAnB/C,mBAAmB;AA6EzB,eAAeA,mBAAmB;AAAC,IAAA+C,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}